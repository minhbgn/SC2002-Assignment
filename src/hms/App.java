/*
 * This source file was generated by the Gradle 'init' task
 */
package hms;

import hms.system.ISystem;

public class App {
    private static final String PATIENT_REPO_FILEPATH = "data/patients.csv";
    private static final String DOCTOR_REPO_FILEPATH = "data/doctors.csv";
    private static final String PHARMACIST_REPO_FILEPATH = "data/pharmacists.csv";
    private static final String ADMIN_REPO_FILEPATH = "data/admins.csv";
    private static final String APPOINTMENT_REPO_FILEPATH = "data/appointments.csv";
    private static final String PRESCRIPTION_REPO_FILEPATH = "data/prescriptions.csv";
    private static final String INVENTORY_REPO_FILEPATH = "data/inventory.csv";

    private boolean isInitialized = false;
    private ISystem currentSystem = null;

    public void initialize() {
        if (isInitialized) return;

        // TODO: Add initialization code here:
        // 1. Initialize manager context
        // 2. Add managers to context
        // 3. ...

        // Add initial system to run
        // currentSystem = new ISystem()

        isInitialized = true;
    }

    public void run() {
        if (!isInitialized){
            throw new IllegalStateException("HMS not initialized");
        }

        while (currentSystem != null) {
            currentSystem = currentSystem.run();            
        }
    }
}
